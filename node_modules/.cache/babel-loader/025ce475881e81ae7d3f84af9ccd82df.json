{"ast":null,"code":"import _regeneratorRuntime from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import'./gerencyUsers.css';import Header from'../../components/Header';import Button from'@mui/material/Button';import api from'../../services/api';import ProgressBar from'../../components/ProgressBar';import{AuthContext}from'../../contexts/auth';import TableUser from'../../components/TableUser';import ArrowBackIosIcon from'@mui/icons-material/ArrowBackIos';import VersionApp from'../../components/VersionApp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function GerencyUsers(){var _useContext=useContext(AuthContext),setDataListUsers=_useContext.setDataListUsers,token=_useContext.token;var _useState=useState('GERÊNCIAMENTO DE USUÁRIOS'),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),userId=_useState12[0],setUserId=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),master=_useState14[0],setMaster=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),buttonMobileVisible=_useState16[0],setButtonMobileVisible=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),active=_React$useState2[0],setActive=_React$useState2[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),offSearch=_useState20[0],setOffSearch=_useState20[1];var objInputs={name:setName,email:setEmail,master:setMaster,active:setActive,id:setUserId};function addUser(){return _addUser.apply(this,arguments);}function _addUser(){_addUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!name||!email)){_context.next=3;break;}alert('Preencha os campos corretamente!');return _context.abrupt(\"return\");case 3:setLoading(true);_context.prev=4;api.defaults.headers.common.Authorization='Bearer '+token;_context.next=8;return api.post('/users',{name:name,email:email,master:master});case 8:setLoading(false);listUsers();setName('');setEmail('');setMaster(false);setActive(false);alert('Usuário cadastrado com sucesso!');_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](4);alert('Erro ao adicionar usuário, verifique sua conexão com a internet.');console.log(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[4,17]]);}));return _addUser.apply(this,arguments);}function editUser(){return _editUser.apply(this,arguments);}function _editUser(){_editUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;body={name:name,email:email,master:master};_context2.next=4;return api.patch(\"/users/\".concat(userId),body,{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 4:setLoading(false);listUsers();setName('');setEmail('');setMaster(false);setActive(false);setButtonMobileVisible(false);alert('Usuário atualizado com sucesso!');listUsers();_context2.next=19;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);alert('Erro de requizição ao tentar atualizar usuário, verifique sua internet!');console.log(_context2.t0);case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15]]);}));return _editUser.apply(this,arguments);}function removeUser(_x){return _removeUser.apply(this,arguments);}function _removeUser(){_removeUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.delete(\"/users/\".concat(item.id),{data:{foo:'bar'},headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 3:setName('');setEmail('');setMaster(false);setActive(false);setButtonMobileVisible(false);alert('Usuário removido com sucesso!');listUsers();_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);alert('Erro ao tentar excluir usuário, verifique sua conexão com a internet!');console.log(_context3.t0);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return _removeUser.apply(this,arguments);}function selectMaster(){!master?setMaster(true):setMaster(false);}function selectActive(){!active?setActive(true):setActive(false);}function backEdit(){setButtonMobileVisible(false);setName('');setEmail('');setMaster(false);setActive(false);setUserId('');}function listUsers(){return _listUsers.apply(this,arguments);}function _listUsers(){_listUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,res,newArrayFilter,reverseList;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);_context4.prev=1;_context4.next=4;return api.get('/users',{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 4:response=_context4.sent;res=[];res=response.data;newArrayFilter=res.filter(function(user){return user.type!=='internal';});reverseList=newArrayFilter.reverse();setDataListUsers(reverseList);setData(reverseList);setLoading(false);_context4.next=17;break;case 14:_context4.prev=14;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0);case 17:case\"end\":return _context4.stop();}}},_callee4,null,[[1,14]]);}));return _listUsers.apply(this,arguments);}useEffect(function(){listUsers();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"containerUser\",children:[/*#__PURE__*/_jsx(Header,{title:title,visible:visible,offSearch:offSearch}),/*#__PURE__*/_jsxs(\"div\",{className:\"areaFormularyAll\",style:{justifyContent:buttonMobileVisible?'center':'space-around'},children:[buttonMobileVisible&&/*#__PURE__*/_jsx(\"div\",{onClick:backEdit,children:/*#__PURE__*/_jsx(ArrowBackIosIcon,{id:\"arrow\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"areaFormularyAdd\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"smallAreaUsers\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nome:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"input\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallAreaUsers\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"E-mail:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"input\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallAreaCheckBox\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Administrador:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:master,checked:master,name:\"adm\",onClick:selectMaster})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallAreaCheckBox\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ativar\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:active,checked:active,name:\"active\",onClick:selectActive})]}),loading?/*#__PURE__*/_jsx(ProgressBar,{}):/*#__PURE__*/_jsx(_Fragment,{children:!buttonMobileVisible?/*#__PURE__*/_jsx(Button,{onClick:addUser,id:\"btnRegisterUse\",variant:\"contained\",children:\"Cadastrar\"}):/*#__PURE__*/_jsx(Button,{onClick:editUser,id:\"btnRegisterUse\",variant:\"contained\",children:\"Atualizar\"})})]}),!buttonMobileVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"areaFomularyLis\",children:/*#__PURE__*/_jsx(TableUser,{objInputs:objInputs,removeUser:removeUser,setButtonMobileVisible:setButtonMobileVisible})})]}),/*#__PURE__*/_jsx(VersionApp,{})]});}","map":{"version":3,"sources":["/home/max/Documentos/microsys/src/pages/GerencyUsers/index.js"],"names":["React","useState","useEffect","useContext","Header","Button","api","ProgressBar","AuthContext","TableUser","ArrowBackIosIcon","VersionApp","GerencyUsers","setDataListUsers","token","title","setTitle","visible","setVisible","data","setData","name","setName","email","setEmail","userId","setUserId","master","setMaster","buttonMobileVisible","setButtonMobileVisible","loading","setLoading","active","setActive","offSearch","setOffSearch","objInputs","id","addUser","alert","defaults","headers","common","Authorization","post","listUsers","console","log","editUser","body","patch","removeUser","item","delete","foo","selectMaster","selectActive","backEdit","get","response","res","newArrayFilter","filter","user","type","reverseList","reverse","justifyContent","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport './gerencyUsers.css';\nimport Header from '../../components/Header';\nimport Button from '@mui/material/Button';\nimport api from '../../services/api';\nimport ProgressBar from '../../components/ProgressBar';\nimport { AuthContext } from '../../contexts/auth';\nimport TableUser from '../../components/TableUser';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport VersionApp from '../../components/VersionApp';\n\n\n\nexport default function GerencyUsers() {\n  const { setDataListUsers, token } = useContext(AuthContext);\n  const [title, setTitle] = useState('GERÊNCIAMENTO DE USUÁRIOS');\n  const [visible, setVisible] = useState(true);\n  const [data, setData] = useState([]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [userId, setUserId] = useState('');\n  const [master, setMaster] = useState(false);\n  const [buttonMobileVisible, setButtonMobileVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [active, setActive] = React.useState(false);\n  const [offSearch, setOffSearch] = useState(false);\n\n  const objInputs = {\n    name: setName,\n    email: setEmail,\n    master: setMaster,\n    active: setActive,\n    id: setUserId\n  }\n\n  async function addUser(){\n    \n    if(!name || !email){\n      alert('Preencha os campos corretamente!');\n      return\n    }\n      \n    setLoading(true);\n\n    try{\n      api.defaults.headers.common.Authorization = 'Bearer ' + token;\n      await api.post('/users', {\n        name: name,\n        email: email,\n        master: master,\n      });\n\n      setLoading(false);\n      listUsers();\n      setName('');\n      setEmail('');\n      setMaster(false);\n      setActive(false);\n      alert('Usuário cadastrado com sucesso!');\n    }\n    catch(error){\n      alert('Erro ao adicionar usuário, verifique sua conexão com a internet.')\n      console.log(error);\n    }\n  }\n\n  async function editUser(){\n\n    try{\n      const body ={\n        name: name,\n        email: email,\n        master: master\n      }\n      await api.patch(`/users/${userId}`, body,{\n        headers:{\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n          'Accept': '*/*'\n        }\n      });\n  \n        setLoading(false);\n        listUsers();\n        setName('');\n        setEmail('');\n        setMaster(false);\n        setActive(false);\n        setButtonMobileVisible(false);\n        alert('Usuário atualizado com sucesso!');\n        listUsers();\n    }\n    catch(error){\n      alert('Erro de requizição ao tentar atualizar usuário, verifique sua internet!')\n      console.log(error);\n    }\n\n  }\n\n  async function removeUser(item){\n\n    try{\n      await api.delete(`/users/${item.id}`, {\n        data: {foo: 'bar'},\n        headers:{\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n          'Accept': '*/*'\n        }\n      });\n  \n      setName('');\n      setEmail('');\n      setMaster(false);\n      setActive(false);\n      setButtonMobileVisible(false);\n      alert('Usuário removido com sucesso!');\n      listUsers();\n    }\n    catch(error){\n      alert('Erro ao tentar excluir usuário, verifique sua conexão com a internet!');\n      console.log(error);\n    }\n  }\n\n  function selectMaster(){\n    !master ? setMaster(true) : setMaster(false);\n  }\n\n  function selectActive(){\n    !active ? setActive(true) : setActive(false);\n  }\n\n  function backEdit(){\n    setButtonMobileVisible(false);\n    setName('');\n    setEmail('');\n    setMaster(false);\n    setActive(false);\n    setUserId('');\n  }\n\n  async function listUsers(){\n    setLoading(true);\n    \n    try{\n      const response = await api.get('/users', {\n        headers:{\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n          'Accept': '*/*'\n        }\n      })\n  \n      let res = [];\n      res = response.data;\n      \n      const newArrayFilter = res.filter(function(user) {\n        return user.type !== 'internal'\n      });\n  \n      const reverseList = newArrayFilter.reverse();\n      setDataListUsers(reverseList);\n      setData(reverseList);\n      setLoading(false);  \n    }\n    catch(error){\n      console.log(error);\n    }\n  }\n\n  useEffect(()=> {\n    listUsers();\n  }, [])\n\n  return (\n    <div className=\"containerUser\">\n      <Header title={title} visible={visible} offSearch={offSearch}/>\n      <div className='areaFormularyAll' style={{ justifyContent: buttonMobileVisible ?  'center' : 'space-around'}}>\n        {buttonMobileVisible &&\n            <div onClick={backEdit}>\n            <ArrowBackIosIcon id='arrow'/>\n          </div>\n        }\n        <div className='areaFormularyAdd'>\n          <div className='smallAreaUsers'>\n            <span>Nome:</span>\n            <input type=\"text\" name=\"name\" id=\"input\" value={name} onChange={e=> setName(e.target.value)}/>\n          </div>\n          <div className='smallAreaUsers'>\n            <span>E-mail:</span>\n            <input type=\"text\" name=\"email\" id=\"input\" value={email} onChange={e=> setEmail(e.target.value)}/>\n          </div>\n          <div className='smallAreaCheckBox'>\n            <span>Administrador:</span>\n            <input type=\"checkbox\" value={master} checked={master} name=\"adm\" onClick={selectMaster}/>\n          </div>\n          <div className='smallAreaCheckBox'>\n            <span>Ativar</span>\n            <input type=\"checkbox\" value={active} checked={active} name=\"active\" onClick={selectActive}/>\n          </div>\n          {loading ?\n            <ProgressBar />\n          :\n            <>\n              {!buttonMobileVisible ?\n                <Button onClick={addUser} id=\"btnRegisterUse\" variant=\"contained\"> \n                  Cadastrar\n                </Button>\n              :\n                <Button onClick={editUser} id=\"btnRegisterUse\" variant=\"contained\"> \n                  Atualizar\n                </Button>\n              }\n            </>\n          }\n        </div>\n        {!buttonMobileVisible &&\n          <div className='areaFomularyLis'>\n            <TableUser objInputs={objInputs} removeUser={removeUser}  setButtonMobileVisible={setButtonMobileVisible} />\n          </div>\n        }\n      </div>\n      <VersionApp />\n    </div>\n  )\n}\n "]},"metadata":{},"sourceType":"module"}