{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: 'https://api.labmicrocba.com.br/microsys/test',\n  //BaseUrl server\n  headers: {\n    'Accept': '*/*',\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n});\napi.interceptors.response.use(response => {\n  // Do something with response data\n  return response;\n}, error => {\n  // Do something with response error\n  // You can even test for a response code\n  // and try a new request before rejecting the promise\n  if (error.request._hasError === true && error.request._response.includes('connect')) {\n    React.Alert.alert('Aviso', 'Não foi possível conectar aos nossos servidores, sem conexão a internet', [{\n      text: 'OK'\n    }], {\n      cancelable: false\n    });\n  }\n\n  if (error.response.status === 403) {}\n\n  if (error.response.status === 401) {\n    const requestConfig = error.config;\n    return axios(requestConfig);\n  }\n\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"sources":["/home/max/Documentos/microsys/src/services/api.js"],"names":["React","axios","api","create","baseURL","headers","interceptors","response","use","error","request","_hasError","_response","includes","Alert","alert","text","cancelable","status","requestConfig","config","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,8CADc;AACkC;AACzDC,EAAAA,OAAO,EAAE;AACP,cAAU,KADH;AAEP,oBAAgB;AAFT;AAFc,CAAb,CAAZ;AAQAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACED,QAAQ,IAAI;AACV;AACA,SAAOA,QAAP;AACD,CAJH,EAKEE,KAAK,IAAI;AACP;AACA;AACA;AACA,MACEA,KAAK,CAACC,OAAN,CAAcC,SAAd,KAA4B,IAA5B,IACAF,KAAK,CAACC,OAAN,CAAcE,SAAd,CAAwBC,QAAxB,CAAiC,SAAjC,CAFF,EAGE;AACAb,IAAAA,KAAK,CAACc,KAAN,CAAYC,KAAZ,CACE,OADF,EAEE,yEAFF,EAGE,CAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAF,CAHF,EAIE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAJF;AAMD;;AACD,MAAGR,KAAK,CAACF,QAAN,CAAeW,MAAf,KAA0B,GAA7B,EAAkC,CACjC;;AAED,MAAIT,KAAK,CAACF,QAAN,CAAeW,MAAf,KAA0B,GAA9B,EAAmC;AACjC,UAAMC,aAAa,GAAGV,KAAK,CAACW,MAA5B;AACA,WAAOnB,KAAK,CAACkB,aAAD,CAAZ;AACD;;AAED,SAAOE,OAAO,CAACC,MAAR,CAAeb,KAAf,CAAP;AACD,CA7BH;AAgCA,eAAeP,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://api.labmicrocba.com.br/microsys/test', //BaseUrl server\n  headers: {\n    'Accept': '*/*',\n    'Content-Type': 'application/json; charset=utf-8'\n  },\n})\n\napi.interceptors.response.use(\n  response => {\n    // Do something with response data\n    return response\n  },\n  error => {\n    // Do something with response error\n    // You can even test for a response code\n    // and try a new request before rejecting the promise\n    if (\n      error.request._hasError === true &&\n      error.request._response.includes('connect')\n    ) {\n      React.Alert.alert(\n        'Aviso',\n        'Não foi possível conectar aos nossos servidores, sem conexão a internet',\n        [ { text: 'OK' } ],\n        { cancelable: false },\n      )\n    }\n    if(error.response.status === 403 ){\n    }\n\n    if (error.response.status === 401) {\n      const requestConfig = error.config\n      return axios(requestConfig)\n    }\n\n    return Promise.reject(error)\n  },\n)\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}