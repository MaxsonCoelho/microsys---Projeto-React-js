{"ast":null,"code":"import _regeneratorRuntime from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{useHistory}from'react-router-dom';import api from'../../services/api';import Paper from'@mui/material/Paper';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TablePagination from'@mui/material/TablePagination';import TableRow from'@mui/material/TableRow';import EditIcon from'@mui/icons-material/Edit';import DeleteForeverIcon from'@mui/icons-material/DeleteForever';import VisibilityIcon from'@mui/icons-material/Visibility';import{AuthContext}from'../../contexts/auth';import'./TableBactery.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StickyHeadTable(_ref){var dataBactery=_ref.dataBactery,getBactery=_ref.getBactery;var history=useHistory();var _useContext=useContext(AuthContext),token=_useContext.token;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),buttonUpdate=_useState6[0],setButtonUpdate=_useState6[1];var columns=[{id:'codigo',label:'Código',minWidth:130},{id:'cor',label:'Cor',minWidth:130},{id:'forma',label:'Forma',minWidth:130},{id:'elevacao',label:'Elevação',minWidth:130},{id:'borda',label:'Borda',minWidth:130},{id:'superficie',label:'Superfície',minWidth:130}];var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};var directionEdit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item,itemMorph,itemHost){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history.push({pathname:'adicao-bacteriana/',codigo:item.codigo,identMolecular:item.identMolecular,cor:item.cor,forma:item.forma,elevacao:item.elevacao,borda:item.borda,superficie:item.superficie,consistencia:item.consistencia,detalhes:item.detalhes,pigmentos:item.pigmentos,propriedades:item.propriedades,meioIsolamento:item.meioIsolamento,tempIncubacao:item.tempIncubacao,descricaoIsolado:item.descricaoIsolado,dataColeta:item.dataColeta,dataReativacao:item.dataReativacao,localColeta:item.localColeta,morfologia:itemMorph[0].descricao,hospedeiro:itemHost[0].descricao,morfologiaId:itemMorph[0].id,hospedeiroId:itemHost[0].id,itemId:item.id,buttonUpdate:buttonUpdate});case 1:case\"end\":return _context.stop();}}},_callee);}));return function directionEdit(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();function getMorphological(_x4){return _getMorphological.apply(this,arguments);}function _getMorphological(){_getMorphological=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){var responseMorph,resultMorph,itemMorph,responseHost,resultHost,itemHost;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.get('/morfologias',{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 3:responseMorph=_context3.sent;resultMorph=responseMorph.data;itemMorph=resultMorph.filter(function(i){return i.id===item.morfologiaId;});_context3.next=8;return api.get('/hospedeiros',{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 8:responseHost=_context3.sent;resultHost=responseHost.data;itemHost=resultHost.filter(function(i){return i.id===item.hospedeiroId;});directionEdit(item,itemMorph,itemHost);_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);console.log('erro na listagem:',_context3.t0);case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[0,14]]);}));return _getMorphological.apply(this,arguments);}var directionRemove=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:res=window.confirm('Tem certeza de que deseja remover este registro ?');if(!(res===true)){_context2.next=14;break;}_context2.prev=2;_context2.next=5;return api.delete(\"/bacterias/\".concat(item.id),{data:{foo:'bar'}});case 5:alert('Registro excluído com sucesso!');getBactery();_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);alert('Erro ao tentar excluir este registro.');case 13:return _context2.abrupt(\"return\");case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return function directionRemove(_x5){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%',overflow:'hidden'},children:[/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:440},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:columns.map(function(column){return/*#__PURE__*/_jsx(TableCell,{align:column.align,style:{minWidth:column.minWidth},children:column.label},column.id);})})}),/*#__PURE__*/_jsx(TableBody,{children:dataBactery.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row){return/*#__PURE__*/_jsxs(TableRow,{hover:true,role:\"checkbox\",tabIndex:-1,children:[columns.map(function(column){var value=row[column.id];return/*#__PURE__*/_jsx(TableCell,{align:column.align,children:column.format&&typeof value==='number'?column.format(value):value},column.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"areaActions\",children:[/*#__PURE__*/_jsx(VisibilityIcon,{id:\"icon\",onClick:function onClick(){return getMorphological(row);}}),/*#__PURE__*/_jsx(EditIcon,{id:\"icon\",onClick:function onClick(){return getMorphological(row);}}),/*#__PURE__*/_jsx(DeleteForeverIcon,{id:\"icon\",onClick:function onClick(){return directionRemove(row);}})]})]},row.code);})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,25,100],component:\"div\",count:dataBactery.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]});}// import * as React from 'react';\n// import './table.css';\n// import EditIcon from '@mui/icons-material/Edit';\n// import DeleteForeverIcon from '@mui/icons-material/DeleteForever';\n// export default function DataTable() {\n//   return (\n//     <div className='container'>\n//       <div className='areaFormulary2'>\n//             <div id='textUser'>\n//                 <span>Lista de microorganismos fúngicos:</span>\n//             </div>\n//             <div className='listHeader'>\n//                 <span id=\"idEmail\">Descrição</span>\n//                 <span id=\"idEmail\">Cor</span>\n//                 <span id=\"idEmail\">Propriedades</span>\n//                 <span id=\"idEmail\">Forma</span>\n//                 <span id=\"idEmail\">Tipo</span>\n//             </div>\n//             <div className='listUser'>\n//                 {\n//                 data.map(m => (\n//                     <div className='containerUser'>\n//                     {loading ?\n//                         <ProgressBar />\n//                         :\n//                         <>\n//                         <div className='listUsers'>\n//                             <span>{m.name}</span>\n//                         </div>\n//                         <div className='listUsers'>\n//                             <span>{m.email}</span>\n//                         </div>\n//                         </>\n//                     }\n//                     <div className='options'>\n//                         <EditIcon id=\"icon\"/>\n//                         <DeleteForeverIcon id=\"icon\"/>\n//                     </div>\n//                     </div>\n//                 ))\n//                 }\n//             </div>\n//         </div>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["/home/max/Documentos/microsys/src/components/TableBactery/index.js"],"names":["React","useState","useContext","useHistory","api","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","EditIcon","DeleteForeverIcon","VisibilityIcon","AuthContext","StickyHeadTable","dataBactery","getBactery","history","token","page","setPage","rowsPerPage","setRowsPerPage","buttonUpdate","setButtonUpdate","columns","id","label","minWidth","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","directionEdit","item","itemMorph","itemHost","push","pathname","codigo","identMolecular","cor","forma","elevacao","borda","superficie","consistencia","detalhes","pigmentos","propriedades","meioIsolamento","tempIncubacao","descricaoIsolado","dataColeta","dataReativacao","localColeta","morfologia","descricao","hospedeiro","morfologiaId","hospedeiroId","itemId","getMorphological","get","headers","responseMorph","resultMorph","data","filter","i","responseHost","resultHost","console","log","directionRemove","res","window","confirm","delete","foo","alert","width","overflow","maxHeight","map","column","align","slice","row","format","code","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport api from '../../services/api';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TablePagination from '@mui/material/TablePagination';\nimport TableRow from '@mui/material/TableRow';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport { AuthContext } from '../../contexts/auth';\nimport './TableBactery.css';\n\nexport default function StickyHeadTable({ dataBactery, getBactery }) {\n  let history = useHistory();\n  const { token } = useContext(AuthContext);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [buttonUpdate, setButtonUpdate] = useState(true);\n  \n\n  const columns = [\n    { id: 'codigo', label: 'Código', minWidth: 130 },\n    { id: 'cor', label: 'Cor', minWidth: 130 },\n    { id: 'forma', label: 'Forma', minWidth: 130 },\n    { id: 'elevacao', label: 'Elevação', minWidth: 130 },\n    { id: 'borda', label: 'Borda', minWidth: 130 },\n    { id: 'superficie', label: 'Superfície', minWidth: 130 }\n  ];\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const directionEdit = async (item, itemMorph, itemHost)=> {\n    \n    history.push({pathname: 'adicao-bacteriana/', \n    codigo: item.codigo,\n    identMolecular: item.identMolecular,\n    cor: item.cor,\n    forma: item.forma,\n    elevacao: item.elevacao,\n    borda: item.borda,\n    superficie: item.superficie, \n    consistencia: item.consistencia,\n    detalhes: item.detalhes,\n    pigmentos: item.pigmentos,\n    propriedades: item.propriedades,\n    meioIsolamento: item.meioIsolamento,\n    tempIncubacao: item.tempIncubacao,\n    descricaoIsolado: item.descricaoIsolado,\n    dataColeta: item.dataColeta,\n    dataReativacao: item.dataReativacao,\n    localColeta: item.localColeta,\n    morfologia: itemMorph[0].descricao,\n    hospedeiro: itemHost[0].descricao,\n    morfologiaId: itemMorph[0].id,\n    hospedeiroId: itemHost[0].id,\n    itemId: item.id,\n    buttonUpdate: buttonUpdate\n    });\n\n  }\n\n  async function getMorphological(item){\n    try{\n        let responseMorph = await api.get('/morfologias',{\n          headers:{\n            'Content-type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n            'Accept': '*/*'\n          }\n        })\n        const resultMorph = responseMorph.data;\n        const itemMorph = resultMorph.filter(i => {\n          return i.id === item.morfologiaId ;\n      })\n\n      const responseHost = await api.get('/hospedeiros',{\n        headers:{\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n          'Accept': '*/*'\n        }\n      })\n        const resultHost = responseHost.data;\n        const itemHost = resultHost.filter(i => {\n            return i.id === item.hospedeiroId;\n        });\n\n      directionEdit(item, itemMorph, itemHost);\n    }\n    catch(error){\n        console.log('erro na listagem:', error);\n    }\n    \n  }\n\n  const directionRemove = async (item) => {\n    const res = window.confirm('Tem certeza de que deseja remover este registro ?');\n      if(res === true){\n\n        try{\n          await api.delete(`/bacterias/${item.id}`,  {\n            data: {foo: 'bar'}\n          })\n          alert('Registro excluído com sucesso!');\n          getBactery();\n        }\n        catch(error){\n          console.log(error)\n          alert('Erro ao tentar excluir este registro.');\n        }\n        return\n      }\n  }\n\n\n  return (\n    <Paper sx={{ width: '100%', overflow: 'hidden' }}>\n      <TableContainer sx={{ maxHeight: 440 }}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell\n                  key={column.id}\n                  align={column.align}\n                  style={{ minWidth: column.minWidth }}\n                >\n                  {column.label}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {dataBactery\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row) => {\n                return (\n                  <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\n                    {columns.map((column) => {\n                      const value = row[column.id];\n                      return (\n                        <TableCell key={column.id} align={column.align}>\n                          {column.format && typeof value === 'number'\n                            ? column.format(value)\n                            : value}\n                        </TableCell>\n                      );\n                    })}\n                      <div className='areaActions'>\n                      <VisibilityIcon id=\"icon\" onClick={()=> getMorphological(row)} />\n                        <EditIcon id=\"icon\" onClick={()=> getMorphological(row)} />\n                        <DeleteForeverIcon id=\"icon\" onClick={()=> directionRemove(row)} />\n                      </div>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5, 25, 100]}\n        component=\"div\"\n        count={dataBactery.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import * as React from 'react';\n// import './table.css';\n// import EditIcon from '@mui/icons-material/Edit';\n// import DeleteForeverIcon from '@mui/icons-material/DeleteForever';\n\n\n// export default function DataTable() {\n//   return (\n//     <div className='container'>\n//       <div className='areaFormulary2'>\n//             <div id='textUser'>\n//                 <span>Lista de microorganismos fúngicos:</span>\n//             </div>\n//             <div className='listHeader'>\n//                 <span id=\"idEmail\">Descrição</span>\n//                 <span id=\"idEmail\">Cor</span>\n//                 <span id=\"idEmail\">Propriedades</span>\n//                 <span id=\"idEmail\">Forma</span>\n//                 <span id=\"idEmail\">Tipo</span>\n//             </div>\n//             <div className='listUser'>\n//                 {\n//                 data.map(m => (\n//                     <div className='containerUser'>\n//                     {loading ?\n//                         <ProgressBar />\n//                         :\n//                         <>\n//                         <div className='listUsers'>\n//                             <span>{m.name}</span>\n//                         </div>\n//                         <div className='listUsers'>\n//                             <span>{m.email}</span>\n//                         </div>\n//                         </>\n//                     }\n//                     <div className='options'>\n//                         <EditIcon id=\"icon\"/>\n//                         <DeleteForeverIcon id=\"icon\"/>\n//                     </div>\n//                     </div>\n//                 ))\n//                 }\n//             </div>\n            \n//         </div>\n//     </div>\n//   );\n// }"]},"metadata":{},"sourceType":"module"}