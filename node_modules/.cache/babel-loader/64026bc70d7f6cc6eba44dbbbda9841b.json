{"ast":null,"code":"import _regeneratorRuntime from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/max/Documentos/microsys/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import'./search.css';import SearchIcon from'@mui/icons-material/Search';import api from'../../services/api';import{AuthContext}from'../../contexts/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(_ref){var setDataFungic=_ref.setDataFungic,setDataBactery=_ref.setDataBactery;var _useContext=useContext(AuthContext),token=_useContext.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];function searchFunction(){return _searchFunction.apply(this,arguments);}function _searchFunction(){_searchFunction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result,_response,_result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!setDataFungic){_context.next=9;break;}_context.next=4;return api.get(\"/fungos/search?q=\".concat(search),{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 4:response=_context.sent;result=response.data;setDataFungic(result.reverse());_context.next=15;break;case 9:if(!setDataBactery){_context.next=15;break;}_context.next=12;return api.get(\"/bacterias/search?q=\".concat(search),{headers:{'Content-type':'application/json','Authorization':\"Bearer \".concat(token),'Accept':'*/*'}});case 12:_response=_context.sent;_result=_response.data;setDataBactery(_result.reverse());case 15:_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);alert('Erro na listagem de coleções fúngicas, verifique sua conexão com a internet.');console.log(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return _searchFunction.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{id:\"divBusca\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"txtBusca\",onChange:function onChange(e){return setSearch(e.target.value);},placeholder:\"Buscar...\"}),/*#__PURE__*/_jsx(SearchIcon,{id:\"search\",onClick:searchFunction})]});}","map":{"version":3,"sources":["/home/max/Documentos/microsys/src/components/Search/index.js"],"names":["React","useState","useContext","SearchIcon","api","AuthContext","Search","setDataFungic","setDataBactery","token","search","setSearch","searchFunction","get","headers","response","result","data","reverse","alert","console","log","e","target","value"],"mappings":"ybAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,OAASC,WAAT,KAA4B,qBAA5B,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,MAAmD,IAAjCC,CAAAA,aAAiC,MAAjCA,aAAiC,CAAlBC,cAAkB,MAAlBA,cAAkB,iBAC5CN,UAAU,CAACG,WAAD,CADkC,CACtDI,KADsD,aACtDA,KADsD,eAElCR,QAAQ,CAAC,EAAD,CAF0B,wCAEvDS,MAFuD,eAE/CC,SAF+C,uBAI/CC,CAAAA,cAJ+C,oJAI9D,6LAISL,aAJT,+CAK+BH,CAAAA,GAAG,CAACS,GAAJ,4BAA4BH,MAA5B,EAAqC,CAC1DI,OAAO,CAAC,CACN,eAAgB,kBADV,CAEN,iCAA2BL,KAA3B,CAFM,CAGN,SAAU,KAHJ,CADkD,CAArC,CAL/B,QAKcM,QALd,eAaYC,MAbZ,CAaqBD,QAAQ,CAACE,IAb9B,CAcQV,aAAa,CAACS,MAAM,CAACE,OAAP,EAAD,CAAb,CAdR,kCAeeV,cAff,iDAgB+BJ,CAAAA,GAAG,CAACS,GAAJ,+BAA+BH,MAA/B,EAAwC,CAC7DI,OAAO,CAAC,CACN,eAAgB,kBADV,CAEN,iCAA2BL,KAA3B,CAFM,CAGN,SAAU,KAHJ,CADqD,CAAxC,CAhB/B,SAgBcM,SAhBd,eAwBYC,OAxBZ,CAwBqBD,SAAQ,CAACE,IAxB9B,CAyBQT,cAAc,CAACQ,OAAM,CAACE,OAAP,EAAD,CAAd,CAzBR,yFA6BMC,KAAK,CAAC,8EAAD,CAAL,CACAC,OAAO,CAACC,GAAR,cA9BN,qEAJ8D,iDAuC9D,mBACI,aAAK,EAAE,CAAC,UAAR,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,QAAQ,CAAE,kBAAAC,CAAC,QAAIX,CAAAA,SAAS,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAA5C,CAA2E,WAAW,CAAC,WAAvF,EADJ,cAEI,KAAC,UAAD,EAAY,EAAE,CAAC,QAAf,CAAwB,OAAO,CAAEZ,cAAjC,EAFJ,GADJ,CAOH","sourcesContent":["import React, { useState, useContext } from 'react';\nimport './search.css';\nimport SearchIcon from '@mui/icons-material/Search';\nimport api from '../../services/api';\nimport { AuthContext } from '../../contexts/auth';\n\nexport default function Search({ setDataFungic, setDataBactery }) {\n    const { token } = useContext(AuthContext);\n    const [search, setSearch] = useState('');\n\n    async function searchFunction(){\n\n        try{\n          \n          if(setDataFungic){\n            const response = await api.get(`/fungos/search?q=${search}`,{\n              headers:{\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n                'Accept': '*/*'\n              }\n            });\n        \n            let result = response.data;\n            setDataFungic(result.reverse());\n          }else if(setDataBactery){\n            const response = await api.get(`/bacterias/search?q=${search}`,{\n              headers:{\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n                'Accept': '*/*'\n              }\n            });\n        \n            let result = response.data;\n            setDataBactery(result.reverse());\n          }\n        }\n        catch(error){\n          alert('Erro na listagem de coleções fúngicas, verifique sua conexão com a internet.')\n          console.log(error);\n        }\n    }\n\n\n    return (\n        <div id=\"divBusca\">\n            <input type=\"text\" id=\"txtBusca\" onChange={e => setSearch(e.target.value)} placeholder=\"Buscar...\"/>\n            <SearchIcon id=\"search\" onClick={searchFunction} />  \n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}